@()(implicit session: Session)
@home.main("PCA"){

    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("css/test/mysoft.css")" media="screen" />
    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("bootstrap-fileinput-master/css/fileinput.css")" media="screen" />
        <!--button弹出操作-->
    <script src="@routes.Assets.versioned("layer-v3.0/layer/layer.js")" type="text/javascript"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("js/myzui.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("bootstrap-fileinput-master/js/fileinput.js")"></script>

    <style>
            .mysoft-content-left .form-group-extra .btn-sm {
                font-size: 14px;
                background-color: #27b9d0;
                border-color: #27b9d0;
                border-radius: 4px;
                padding: 5px 15px;
                height: auto;
            }
            .mysoft-content-right .tab-content, .mysoft-content-left form {
                box-shadow: unset;
            }
            .img-thumbnail {
                display: inline-block;
                max-width: 100%;
                height: auto;
                padding: 4px;
                line-height: 1.53846154;
                background-color: #fff;
                border: unset;
                border-radius: 4px;
                -webkit-transition: all .2s ease-in-out;
                -o-transition: all .2s ease-in-out;
                transition: all .2s ease-in-out;
            }
            blockquote {
                padding: 10px 20px;
                margin: 0 0 20px;
                border-left: unset;
            }
            .hidden-xs {
                 display: unset !important;
            }
            .input-group .form-control {
                position: relative;
                z-index: 2;
                float: left;
                width: 100%;
                margin-bottom: 0;
                height: 22px;
            }
        .fileinput-cancel-button{
            display: none;
        }
            .layui-layer {
                -webkit-overflow-scrolling: touch;
                top: 35%;
                left: 41%;
                margin: 0;
                padding: 0;
                background-color: #fff;
                -webkit-background-clip: content;
                box-shadow: 1px 1px 50px rgba(0,0,0,.3);
            }
            .layui-layer-lan .layui-layer-btn {
                padding: 10px;
                text-align: right;
                border-top: unset;
            }
            .layui-layer-lan[type=dialog] {
                min-width: 280px;
                border-radius: 11.5px;
            }
            .layui-layer-lan .layui-layer-title {
                background: #333;
                color: #fff;
                border: none;
                border-top-left-radius: 11.5px;
                border-top-right-radius: 11.5px;
            }
    </style>

    <div class="col-md-12 mysoft-content">
        <div class="mysoft-content-left whitebox" style="width: 771px;">
            <ul class="nav nav-tabs" style="background: #f2f2f2;">
                <li class="active">
                    <a href="#" data-target=".form1" data-toggle="tab">PCA</a>
                </li>
                <li class="">
                    <a href="#" data-target=".form2" data-toggle="tab">PCA(需求2)</a>
                </li>
                <li class="">
                    <a href="#" data-target=".form3" data-toggle="tab">PCA(需求3)</a>
                </li>
                <li class="">
                    <a href="#" data-target=".form4" data-toggle="tab">PCA(需求4)</a>
                </li>
            </ul>
            <div class="tab-content" style="box-sizing: border-box!important;">
                <form id="PCA1" method="GET" enctype="multipart/form-data" class="form1 well form-inline tab-pane fade active in" style="box-sizing: border-box!important;">
                    <img class="tools-img" src="/assets/images/softpic/pca.png">
                    <h3 class="tools-title">主成分分析PCA</h3>
                    <div class="form-group">
                        <h2>
                        </h2>
                    </div><br><br>
                    <div class="form-group-p">
                        <div class="form-group">
                            <label for="mytaskname">任务编号：</label>
                        </div>
                        <div class="form-group">
                            <input id="mytaskname" type="text" class="form-control" name="taskname" placeholder="" value="pca">
                        </div>
                    </div>
                    <br><br>

                    <script type="text/javascript">
                            $("#mytaskname").keyup(function () {
                                var val = $("#mytaskname").val();
                                var rule = /[()（）@@#$%^&*~`!|\/\\?;,.，。:"]/;
                                if (rule.test(val)) {
                                    alert('任务编号里不能有特殊字符，请重新填写!');
                                }
                            })
                    </script>

                    <div id="div1" class="one-line">
                        <div class="form-group-p">
                            <div class="form-group">
                                <label for="exampleInputName2">
                                    <em>1：</em>上传矩阵表格文件：
                                </label>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="filepath1" name="text1" readonly="readonly">
                                <img id="tempimg1" dynsrc="" src="" style="display:none">
                                <input id="hideinput1" type="file" name="table1" style="display: none"  onchange="change(this.value)">
                            </div>
                        </div>
                        <div class="form-group-extra">
                            <span id="choosefile" type="file" onclick="choosefile($(this))" data-id="1" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;
                            <em>
                                <a href='/CloudPlatform/SoftTool/downloadExamples?name=PCA_table.txt' target='_blank'>示例文件</a>
                            </em>
                        </div>
                        <br>
                        <br>
                    </div>
                    <hr>
                    <br>
                    <h4>可选输入：</h4>
                    <br>
                    <div style="width: 100%;">
                        <h5>
                            <em>2：</em>输入列的ID (二选一)							</h5>
                        <br>
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="###" data-target="#tab2Content1" data-toggle="tab">输入文件</a>
                            </li>
                            <li>
                                <a href="###" data-target="#tab2Content2" data-toggle="tab">手动输入</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade active in" id="tab2Content1">
                                <p>
                                    <br>
                                </p><div id="div2" class="one-line">
                                <div class="form-group-p">
                                    <div class="form-group">
                                        <label for="exampleInputName2">输入列的ID文件：</label>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" id="filepath2" name="text2" readonly="readonly">
                                        <img id="tempimg2" dynsrc="" src="" style="display:none">
                                        <input id="hideinput2" type="file" name="table2" style="display:none;" onchange="change(this.value)">
                                    </div>
                                </div>
                                <div class="form-group-extra">

                                    <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="2" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;<em>
                                    <a href='/CloudPlatform/SoftTool/downloadExamples?name=PCA_group.txt' target='_blank'>示例文件</a>
                                </em>
                                </div>
                                <br>
                                <br>
                            </div>
                                <p></p>
                            </div>
                            <div class="tab-pane fade" id="tab2Content2">
                                <p>
                                </p><div class="tab-pane" id="tabContent2">
                                <textarea id="txdata1" name="txdata1" class="form-control kindeditorSimple" style="width: 100%;height:150px;" placeholder="列的ID：筛选用来做主成分分析的样本名称。如果不填，则使用上传的表格文件中的所有样本做主成分分析。列表中的第一列代表样本名称（样本名称必须在表达量的表格文件中存在），第二列代表样本所在的实验组名称。"></textarea>
                            </div>
                                <p></p>
                                <br>
                            </div>
                        </div>

                        <br>
                        <br style="clear: both;">
                    </div>
                    <div class="form-group-p">
                        <div class="form-group">
                            <label>归一化：</label>
                        </div>
                        <div class="form-group">
                            <select name="scale">
                                <option value="FALSE">no</option>
                                <option value="TRUE">yes</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <br>
                    <input type="hidden" value="upload" name="act">
                    <input type="hidden" value="pca" name="action">
                    <input type="button" value="提&nbsp;&nbsp;交" name="submit" class="btn btn-primary" onclick="PCA('PCA1')">
                </form>
                <form id="PCA2" method="POST" enctype="multipart/form-data" class="form2 well form-inline tab-pane fade" style="box-sizing: border-box!important;">
                    <img class="tools-img" src="/assets/images/softpic/pca.png">
                    <h3 class="tools-title">主成分分析(PCA)2</h3>
                    <div class="form-group">
                        <h2>
                        </h2>
                    </div><br><br>
                    <div class="form-group-p">
                        <div class="form-group">
                            <label for="mytaskname">任务编号：</label>
                        </div>
                        <div class="form-group">
                            <input id="mytaskname" type="text" class="form-control" name="taskname" placeholder="" value="pcab848cc">
                        </div>
                    </div>
                    <br><br>

                    <script type="text/javascript">
                            $("#mytaskname").keyup(function () {
                                var val = $("#mytaskname").val();
                                var rule = /[()（）@@#$%^&*~`!|\/\\?;,.，。:"]/;
                                if (rule.test(val)) {
                                    alert('任务编号里不能有特殊字符，请重新填写!');
                                }
                            })
                    </script>


                    <div id="div1" class="one-line">
                        <div class="form-group-p">
                            <div class="form-group">
                                <label for="exampleInputName2">
                                    <em>1：</em>上传矩阵表格文件：
                                </label>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="filepath1" name="text1" readonly="readonly">
                                <img id="tempimg1" dynsrc="" src="" style="display:none">
                                <input id="hideinput1" type="file" name="table1" style="display:none;" onchange="change(this.value)">
                            </div>
                        </div>
                        <div class="form-group-extra">
                            <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="1" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;
                            <em>
                                <a href="/tools/Public/help/exam.fpkm" target="_blank">示例文件</a>
                            </em>
                        </div>
                        <br>
                        <br>
                    </div>
                    <hr>
                    <br>
                    <h4>可选输入：</h4>
                    <br>
                    <div style="width: 100%;">
                        <h5>
                            <em>2：</em>输入列的ID (二选一)							</h5>
                        <br>
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="###" data-target="#tab2Content1" data-toggle="tab">
                                    输入文件									</a>
                            </li>
                            <li>
                                <a href="###" data-target="#tab2Content2" data-toggle="tab">
                                    手动输入									</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade active in" id="tab2Content1">
                                <p>
                                    <br>
                                </p><div id="div2" class="one-line">
                                <div class="form-group-p">
                                    <div class="form-group">
                                        <label for="exampleInputName2">或者输入列的ID文件：</label>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" id="filepath2" name="text2" readonly="readonly">
                                        <img id="tempimg2" dynsrc="" src="" style="display:none">
                                        <input id="hideinput2" type="file" name="table2" style="display:none;" onchange="change(this.value)">
                                    </div>
                                </div>
                                <div class="form-group-extra">

                                    <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="2" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;<em>
                                    <a href="/tools/Public/help/exam.group" target="_blank">
                                        示例文件											</a>
                                </em>
                                </div>
                                <br>
                                <br>
                            </div>
                                <p></p>
                            </div>
                            <div class="tab-pane fade" id="tab2Content2">
                                <p>
                                </p><div class="tab-pane" id="tabContent2">
                                <textarea id="txdata1" name="txdata1" class="form-control kindeditorSimple" style="width: 100%;height:150px;" placeholder="列的ID：筛选用来做主成分分析的样本名称。如果不填，则使用上传的表格文件中的所有样本做主成分分析。列表中的第一列代表样本名称（样本名称必须在表达量的表格文件中存在），第二列代表样本所在的实验组名称。"></textarea>
                            </div>
                                <p></p>
                                <br>
                            </div>
                        </div>


                        <h4>
                            <em>3：</em>输入行的ID (二选一)							</h4>
                        <br>
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="###" data-target="#tab2Content3" data-toggle="tab">
                                    输入文件									</a>
                            </li>
                            <li>
                                <a href="###" data-target="#tab2Content4" data-toggle="tab">
                                    手动输入									</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade active in" id="tab2Content3">
                                <p>
                                    <br>
                                </p><div id="div3" class="one-line">
                                <div class="form-group-p">
                                    <div class="form-group">
                                        <label for="exampleInputName2">或者输入行的ID文件：</label>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" id="filepath3" name="text3" readonly="readonly">
                                        <img id="tempimg3" dynsrc="" src="" style="display:none">
                                        <input id="hideinput3" type="file" name="table3" style="display:none;" onchange="change(this.value)">
                                    </div>
                                </div>
                                <div class="form-group-extra">

                                    <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="3" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;<em>
                                    <a href="/tools/Public/help/exam.row" target="_blank">
                                        示例文件											</a>
                                </em>
                                </div>
                            </div>
                                <p></p>
                            </div>
                            <div class="tab-pane fade" id="tab2Content4">
                                <p>
                                    <textarea id="txdata2" name="txdata2" class="form-control kindeditorSimple" style="width: 100%;height:150px;" placeholder="行的ID：筛选用来做主成分分析的基因名称列表。如果不填，则使用上传的表格文件中的所有基因做主成分分析。"></textarea>
                                </p>
                            </div>
                        </div>

                        <br>
                        <br style="clear: both;">
                    </div>
                    <div class="form-group-p">
                        <div class="form-group">
                            <label>归一化：</label>
                        </div>
                        <div class="form-group">
                            <select name="scale">
                                <option value="no">no</option>
                                <option value="yes">yes</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <br>
                    <input type="hidden" value="upload" name="act">
                    <input type="hidden" value="pca" name="action">
                    <input type="submit" value="提&nbsp;&nbsp;交" name="submit" class="btn btn-primary" onclick="PCA('PCA2')">
                </form>
                <form id="PCA3" method="POST" enctype="multipart/form-data" class="form3 well form-inline tab-pane fade" style="box-sizing: border-box!important;">
                    <img class="tools-img" src="/assets/images/softpic/pca.png">
                    <h3 class="tools-title">主成分分析(PCA)3</h3>
                    <div class="form-group">
                        <h2>
                        </h2>
                    </div><br><br>
                    <div class="form-group-p">
                        <div class="form-group">
                            <label for="mytaskname">任务编号：</label>
                        </div>
                        <div class="form-group">
                            <input id="mytaskname" type="text" class="form-control" name="taskname" placeholder="" value="pcab848cc">
                        </div>
                    </div>
                    <br><br>

                    <script type="text/javascript">
                            $("#mytaskname").keyup(function () {
                                var val = $("#mytaskname").val();
                                var rule = /[()（）@@#$%^&*~`!|\/\\?;,.，。:"]/;
                                if (rule.test(val)) {
                                    alert('任务编号里不能有特殊字符，请重新填写!');
                                }
                            })
                    </script>


                    <div id="div1" class="one-line">
                        <div class="form-group-p">
                            <div class="form-group">
                                <label for="exampleInputName2">
                                    <em>1：</em>上传矩阵表格文件：
                                </label>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="filepath1" name="text1" readonly="readonly">
                                <img id="tempimg1" dynsrc="" src="" style="display:none">
                                <input id="hideinput1" type="file" name="table1" style="display:none;" onchange="change(this.value)">
                            </div>
                        </div>
                        <div class="form-group-extra">
                            <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="1" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;
                            <em>
                                <a href="/tools/Public/help/exam.fpkm" target="_blank">示例文件</a>
                            </em>
                        </div>
                        <br>
                        <br>
                    </div>
                    <hr>
                    <br>
                    <h4>可选输入：</h4>
                    <br>
                    <div style="width: 100%;">
                        <h5>
                            <em>2：</em>输入列的ID (二选一)
                        </h5>
                        <br>
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="###" data-target="#tab2Content1" data-toggle="tab">
                                    输入文件									</a>
                            </li>
                            <li>
                                <a href="###" data-target="#tab2Content2" data-toggle="tab">
                                    手动输入									</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade active in" id="tab2Content1">
                                <p>
                                    <br>
                                </p><div id="div2" class="one-line">
                                <div class="form-group-p">
                                    <div class="form-group">
                                        <label for="exampleInputName2">或者输入列的ID文件：</label>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" id="filepath2" name="text2" readonly="readonly">
                                        <img id="tempimg2" dynsrc="" src="" style="display:none">
                                        <input id="hideinput2" type="file" name="table2" style="display:none;" onchange="change(this.value)">
                                    </div>
                                </div>
                                <div class="form-group-extra">

                                    <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="2" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;<em>
                                    <a href="/tools/Public/help/exam.group" target="_blank">
                                        示例文件											</a>
                                </em>
                                </div>
                                <br>
                                <br>
                            </div>
                                <p></p>
                            </div>
                            <div class="tab-pane fade" id="tab2Content2">
                                <p>
                                </p><div class="tab-pane" id="tabContent2">
                                <textarea id="txdata1" name="txdata1" class="form-control kindeditorSimple" style="width: 100%;height:150px;" placeholder="列的ID：筛选用来做主成分分析的样本名称。如果不填，则使用上传的表格文件中的所有样本做主成分分析。列表中的第一列代表样本名称（样本名称必须在表达量的表格文件中存在），第二列代表样本所在的实验组名称。"></textarea>
                            </div>
                                <p></p>
                                <br>
                            </div>
                        </div>


                        <h4>
                            <em>3：</em>输入行的ID (二选一)							</h4>
                        <br>
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="###" data-target="#tab2Content3" data-toggle="tab">
                                    输入文件									</a>
                            </li>
                            <li>
                                <a href="###" data-target="#tab2Content4" data-toggle="tab">
                                    手动输入									</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade active in" id="tab2Content3">
                                <p>
                                    <br>
                                </p><div id="div3" class="one-line">
                                <div class="form-group-p">
                                    <div class="form-group">
                                        <label for="exampleInputName2">或者输入行的ID文件：</label>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" id="filepath3" name="text3" readonly="readonly">
                                        <img id="tempimg3" dynsrc="" src="" style="display:none">
                                        <input id="hideinput3" type="file" name="table3" style="display:none;" onchange="change(this.value)">
                                    </div>
                                </div>
                                <div class="form-group-extra">

                                    <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="3" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;<em>
                                    <a href="/tools/Public/help/exam.row" target="_blank">
                                        示例文件											</a>
                                </em>
                                </div>
                            </div>
                                <p></p>
                            </div>
                            <div class="tab-pane fade" id="tab2Content4">
                                <p>
                                    <textarea id="txdata2" name="txdata2" class="form-control kindeditorSimple" style="width: 100%;height:150px;" placeholder="行的ID：筛选用来做主成分分析的基因名称列表。如果不填，则使用上传的表格文件中的所有基因做主成分分析。"></textarea>
                                </p>
                            </div>
                        </div>

                        <br>
                        <br style="clear: both;">
                    </div>
                    <div class="form-group-p">
                        <div class="form-group">
                            <label>归一化：</label>
                        </div>
                        <div class="form-group">
                            <select name="scale">
                                <option value="no">no</option>
                                <option value="yes">yes</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <br>
                    <input type="hidden" value="upload" name="act">
                    <input type="hidden" value="pca" name="action">
                    <input type="submit" value="提&nbsp;&nbsp;交" name="submit" class="btn btn-primary" onclick="PCA('PCA3')">
                </form>
                <form id="PCA4" method="POST" enctype="multipart/form-data" class="form4 well form-inline tab-pane fade" style="box-sizing: border-box!important;">
                    <img class="tools-img" src="/assets/images/softpic/pca.png">
                    <h3 class="tools-title">主成分分析(PCA)4</h3>
                    <div class="form-group">
                        <h2>
                        </h2>
                    </div><br><br>
                    <div class="form-group-p">
                        <div class="form-group">
                            <label for="mytaskname">任务编号：</label>
                        </div>
                        <div class="form-group">
                            <input id="mytaskname" type="text" class="form-control" name="taskname" placeholder="" value="pcab848cc">
                        </div>
                    </div>
                    <br><br>

                    <script type="text/javascript">
                            $("#mytaskname").keyup(function () {
                                var val = $("#mytaskname").val();
                                var rule = /[()（）@@#$%^&*~`!|\/\\?;,.，。:"]/;
                                if (rule.test(val)) {
                                    alert('任务编号里不能有特殊字符，请重新填写!');
                                }
                            })
                    </script>


                    <div id="div1" class="one-line">
                        <div class="form-group-p">
                            <div class="form-group">
                                <label for="exampleInputName2">
                                    <em>1：</em>上传矩阵表格文件：
                                </label>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="filepath1" name="text1" readonly="readonly">
                                <img id="tempimg1" dynsrc="" src="" style="display:none">
                                <input id="hideinput1" type="file" name="table1" style="display:none;" onchange="change(this.value)">
                            </div>
                        </div>
                        <div class="form-group-extra">
                            <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="1" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;
                            <em>
                                <a href="/tools/Public/help/exam.fpkm" target="_blank">示例文件</a>
                            </em>
                        </div>
                        <br>
                        <br>
                    </div>
                    <hr>
                    <br>
                    <h4>可选输入：</h4>
                    <br>
                    <div style="width: 100%;">
                        <h5>
                            <em>2：</em>输入列的ID (二选一)							</h5>
                        <br>
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="###" data-target="#tab2Content1" data-toggle="tab">
                                    输入文件									</a>
                            </li>
                            <li>
                                <a href="###" data-target="#tab2Content2" data-toggle="tab">
                                    手动输入									</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade active in" id="tab2Content1">
                                <p>
                                    <br>
                                </p><div id="div2" class="one-line">
                                <div class="form-group-p">
                                    <div class="form-group">
                                        <label for="exampleInputName2">或者输入列的ID文件：</label>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" id="filepath2" name="text2" readonly="readonly">
                                        <img id="tempimg2" dynsrc="" src="" style="display:none">
                                        <input id="hideinput2" type="file" name="table2" style="display:none;" onchange="change(this.value)">
                                    </div>
                                </div>
                                <div class="form-group-extra">

                                    <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="2" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;<em>
                                    <a href="/tools/Public/help/exam.group" target="_blank">
                                        示例文件											</a>
                                </em>
                                </div>
                                <br>
                                <br>
                            </div>
                                <p></p>
                            </div>
                            <div class="tab-pane fade" id="tab2Content2">
                                <p>
                                </p><div class="tab-pane" id="tabContent2">
                                <textarea id="txdata1" name="txdata1" class="form-control kindeditorSimple" style="width: 100%;height:150px;" placeholder="列的ID：筛选用来做主成分分析的样本名称。如果不填，则使用上传的表格文件中的所有样本做主成分分析。列表中的第一列代表样本名称（样本名称必须在表达量的表格文件中存在），第二列代表样本所在的实验组名称。"></textarea>
                            </div>
                                <p></p>
                                <br>
                            </div>
                        </div>


                        <h4>
                            <em>3：</em>输入行的ID (二选一)							</h4>
                        <br>
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="###" data-target="#tab2Content3" data-toggle="tab">
                                    输入文件									</a>
                            </li>
                            <li>
                                <a href="###" data-target="#tab2Content4" data-toggle="tab">
                                    手动输入									</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade active in" id="tab2Content3">
                                <p>
                                    <br>
                                </p><div id="div3" class="one-line">
                                <div class="form-group-p">
                                    <div class="form-group">
                                        <label for="exampleInputName2">或者输入行的ID文件：</label>
                                    </div>

                                    <div class="form-group">
                                        <input type="text" class="form-control" id="filepath3" name="text3" readonly="readonly">
                                        <img id="tempimg3" dynsrc="" src="" style="display:none">
                                        <input id="hideinput3" type="file" name="table3" style="display:none;" onchange="change(this.value)">
                                    </div>
                                </div>
                                <div class="form-group-extra">

                                    <span id="choosefile" type="button" onclick="choosefile($(this))" data-id="3" class="btn btn-sm btn-info choosebutton">选择文件</span>&nbsp;&nbsp;<em>
                                    <a href="/tools/Public/help/exam.row" target="_blank">
                                        示例文件											</a>
                                </em>
                                </div>
                            </div>
                                <p></p>
                            </div>
                            <div class="tab-pane fade" id="tab2Content4">
                                <p>
                                    <textarea id="txdata2" name="txdata2" class="form-control kindeditorSimple" style="width: 100%;height:150px;" placeholder="行的ID：筛选用来做主成分分析的基因名称列表。如果不填，则使用上传的表格文件中的所有基因做主成分分析。"></textarea>
                                </p>
                            </div>
                        </div>

                        <br>
                        <br style="clear: both;">
                    </div>
                    <div class="form-group-p">
                        <div class="form-group">
                            <label>归一化：</label>
                        </div>
                        <div class="form-group">
                            <select name="scale">
                                <option value="no">no</option>
                                <option value="yes">yes</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <br>
                    <input type="hidden" value="upload" name="act">
                    <input type="hidden" value="pca" name="action">
                    <input type="submit" value="提&nbsp;&nbsp;交" name="submit" class="btn btn-primary" onclick="PCA('PCA4')">
                </form>
            </div>
        </div>

        <div class="handler"></div>

        <div class="mysoft-content-right" style="width: 279px;">
            <div class="tab-content" style="box-sizing: border-box!important;padding: 0;">
                <div class="form1 tab-pane fade active in">
                    <ul class="nav nav-tabs">
                        <li style="display: none;" id="result_tab1">
                            <a href="#" data-target="#result1" data-toggle="tab">运行结果</a>
                        </li>
                        <li class="active" id="out_tab1">
                            <a href="#" data-target="#form1" data-toggle="tab" id="outcome">示例结果</a>
                        </li>
                        <li class="" id="ins_tab1">
                            <a href="#" data-target="#instruction1" data-toggle="tab">说明</a>
                        </li>
                    </ul>
                    <div class="tab-content" style="box-sizing: border-box!important;">
                        <div id="result1" class="form1_ins tab-pane fade">
                            <h5>结果列表：</h5>
                            <br>
                            <ul id="filesUrl" style="font-size: 1.2em;">
                            </ul>
                            <h5>结果预览：</h5>
                            <ul id="pics" style="font-size: 1.2em;">
                            </ul>
                        </div>
                        <div id="form1" class="tab-pane fade active in">
                            <h5>form1输出结果：</h5>
                            <br>
                            <img class="img-rounded img-thumbnail img-responsive" src="/assets/images/softpic/exampleResult/heatmap2.png" alt="生物云平台">
                        </div>
                        <div id="instruction1" class="form1_ins tab-pane fade">

                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">form1功能：</span><br>
                                将多个变量通过线性变换，筛选出数个比较重要的变量。
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">输入：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ① 矩阵文件:文件为二维矩阵文件，第一行一般为样本，第一列为基因名。
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ② 列的ID:筛选用来做聚类分析的列，一般为样本名。如果不填即默认用上传矩阵文件中的全部列做聚类分析。列表中的每一行表示一个列名，且列名必须在矩阵文件中存在。
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ③ 行的ID:筛选用来做聚类分析的行，一般为基因名。如果不填即默认用上传矩阵文件中的全部行做聚类分析。列表中的每一行表示一个行名，且行名必须在矩阵文件中存在.
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">参数：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                归一化：我们利用z-score进行数据的归一化，即将每个基因的表达量减去这个基因在所有样本中表达量的均值，然后除以其标准差。对数据进行归一化，可消除表达量异常高的基因的影响，减少数据间的“贫富差距”。我们推荐对数据进行归一化。
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">输出：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                程序将输出主成分分析结果图
                            </p>
                            <br>						</div>
                    </div>
                </div>
                <div class="form2 tab-pane fade">
                    <ul class="nav nav-tabs">
                        <li class="active">
                            <a href="#" data-target="#form2" data-toggle="tab" id="outcome" onclick="getoutcomeForm()">示例结果</a>
                        </li>
                        <li class="">
                            <a href="#" data-target="#instruction2" data-toggle="tab">说明</a>
                        </li>
                    </ul>
                    <div class="tab-content" style="box-sizing: border-box!important;">
                        <div id="form2" class="tab-pane fade active in">
                            <h5>form2输出结果：</h5>
                            <br>
                            <img class="img-rounded img-thumbnail img-responsive" src="/assets/images/softpic/exampleResult/pca_result.png" alt="生物云平台">
                        </div>
                        <div id="instruction2" class="form1_ins tab-pane fade">
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span><a href="https://www.omicshare.com/forum/thread-631-1-1.html" target="_blank"><i class="icon icon-question-sign" style="font-size: 14px!important;"></i><strong><span style="color:#337FE5;">了解该工具的原理与详细解析，请点击＞＞</span></strong></a></span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <br>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">form2功能：</span><br>
                                将多个变量通过线性变换，筛选出数个比较重要的变量。
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">输入：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ① 矩阵文件:文件为二维矩阵文件，第一行一般为样本，第一列为基因名。
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ② 列的ID:筛选用来做聚类分析的列，一般为样本名。如果不填即默认用上传矩阵文件中的全部列做聚类分析。列表中的每一行表示一个列名，且列名必须在矩阵文件中存在。
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ③ 行的ID:筛选用来做聚类分析的行，一般为基因名。如果不填即默认用上传矩阵文件中的全部行做聚类分析。列表中的每一行表示一个行名，且行名必须在矩阵文件中存在.
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">参数：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                归一化：我们利用z-score进行数据的归一化，即将每个基因的表达量减去这个基因在所有样本中表达量的均值，然后除以其标准差。对数据进行归一化，可消除表达量异常高的基因的影响，减少数据间的“贫富差距”。我们推荐对数据进行归一化。
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">输出：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                程序将输出主成分分析结果图
                            </p>
                            <br>						</div>
                    </div>
                </div>
                <div class="form3 tab-pane fade">
                    <ul class="nav nav-tabs">
                        <li class="active">
                            <a href="#" data-target="#form3" data-toggle="tab" id="outcome" onclick="getoutcomeForm()">示例结果</a>
                        </li>
                        <li class="">
                            <a href="#" data-target="#instruction3" data-toggle="tab">说明</a>
                        </li>
                    </ul>
                    <div class="tab-content" style="box-sizing: border-box!important;">
                        <div id="form3" class="tab-pane fade active in">
                            <h5>form3输出结果：</h5>
                            <br>
                            <img class="img-rounded img-thumbnail img-responsive" src="/assets/images/softpic/exampleResult/heatmap2.png" alt="生物云平台">
                        </div>
                        <div id="instruction3" class="form1_ins tab-pane fade">
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span><a href="https://www.omicshare.com/forum/thread-631-1-1.html" target="_blank"><i class="icon icon-question-sign" style="font-size: 14px!important;"></i><strong><span style="color:#337FE5;">了解该工具的原理与详细解析，请点击＞＞</span></strong></a></span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <br>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">form3功能：</span><br>
                                将多个变量通过线性变换，筛选出数个比较重要的变量。
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">输入：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ① 矩阵文件:文件为二维矩阵文件，第一行一般为样本，第一列为基因名。
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ② 列的ID:筛选用来做聚类分析的列，一般为样本名。如果不填即默认用上传矩阵文件中的全部列做聚类分析。列表中的每一行表示一个列名，且列名必须在矩阵文件中存在。
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ③ 行的ID:筛选用来做聚类分析的行，一般为基因名。如果不填即默认用上传矩阵文件中的全部行做聚类分析。列表中的每一行表示一个行名，且行名必须在矩阵文件中存在.
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">参数：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                归一化：我们利用z-score进行数据的归一化，即将每个基因的表达量减去这个基因在所有样本中表达量的均值，然后除以其标准差。对数据进行归一化，可消除表达量异常高的基因的影响，减少数据间的“贫富差距”。我们推荐对数据进行归一化。
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">输出：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                程序将输出主成分分析结果图
                            </p>
                            <br>						</div>
                    </div>
                </div>
                <div class="form4 tab-pane fade">
                    <ul class="nav nav-tabs">
                        <li class="active">
                            <a href="#" data-target="#form4" data-toggle="tab" id="outcome" onclick="getoutcomeForm()">示例结果</a>
                        </li>
                        <li class="">
                            <a href="#" data-target="#instruction4" data-toggle="tab">说明</a>
                        </li>
                    </ul>
                    <div class="tab-content" style="box-sizing: border-box!important;">
                        <div id="form4" class="tab-pane fade active in">
                            <h5>form4输出结果：</h5>
                            <br>
                            <img class="img-rounded img-thumbnail img-responsive" src="/assets/images/softpic/exampleResult/pca_result.png" alt="生物云平台">
                        </div>
                        <div id="instruction4" class="form1_ins tab-pane fade">
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span><a href="https://www.omicshare.com/forum/thread-631-1-1.html" target="_blank"><i class="icon icon-question-sign" style="font-size: 14px!important;"></i><strong><span style="color:#337FE5;">了解该工具的原理与详细解析，请点击＞＞</span></strong></a></span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <br>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">form4功能：</span><br>
                                将多个变量通过线性变换，筛选出数个比较重要的变量。
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">输入：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ① 矩阵文件:文件为二维矩阵文件，第一行一般为样本，第一列为基因名。
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ② 列的ID:筛选用来做聚类分析的列，一般为样本名。如果不填即默认用上传矩阵文件中的全部列做聚类分析。列表中的每一行表示一个列名，且列名必须在矩阵文件中存在。
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                ③ 行的ID:筛选用来做聚类分析的行，一般为基因名。如果不填即默认用上传矩阵文件中的全部行做聚类分析。列表中的每一行表示一个行名，且行名必须在矩阵文件中存在.
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">参数：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                归一化：我们利用z-score进行数据的归一化，即将每个基因的表达量减去这个基因在所有样本中表达量的均值，然后除以其标准差。对数据进行归一化，可消除表达量异常高的基因的影响，减少数据间的“贫富差距”。我们推荐对数据进行归一化。
                            </p>
                            <br>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                <span style="font-weight:700;">输出：</span>
                            </p>
                            <p style="color:#636E7B;font-family:Arial, 微软雅黑;font-size:14px;background-color:#FFFFFF;">
                                程序将输出主成分分析结果图
                            </p>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript" src="@routes.Assets.versioned("js/toolsAdjust.js")"></script>
    <script type="text/javascript">

        function PCA(formId) {

            if(@session.get("userId").isEmpty){
                swal({
                    title: "尚未登录",
                    text: "请先登录账号",
                    type: "warning",
                    confirmButtonText: "确认"
                })
            }else {

                var form1 = new FormData($("#" + formId)[0]);

                var element = "<div id='content'><span id='info'>运行中...</span>&nbsp;<img class='runningImage' src='/assets/images/loader-twitter.gif' style='width: 30px;height: 20px;float: right;padding-right: 11px;padding-top: 2px;'></div>"
                var index = layer.alert(element, {
                    skin: 'layui-layer-lan',
                    closeBtn: 0,
                    title: "Info",
                    btn: []
                });

                $.ajax({
                    url: "/CloudPlatform/SoftTool/runPCA?id=@session.get("userId")",
                    type: "post",
                    processData: false,
                    contentType: false,
                    data: form1,
                    success: function (data) {
                        if (data.valid === "false") {
                            layer.close(index);
                            swal("Error", data.message, "error");

                        } else {

                            layer.close(index);
                            $.ajax({
                                url:"/CloudPlatform/SoftTool/getFiles?id=@session.get("userId")"+"&taskname="+data.taskname,
                                type:"post",
                                success:function (pics) {
                                    var pic = "";
                                    var html = "";
                                    $.each(pics,function (i,v) {
                                        pic +="<li><img class='img-rounded img-thumbnail img-responsive' src='/CloudPlatform/pic?path="+v+"' alt=\"生物云平台\"><li>"
                                        html += "<li><a href='/CloudPlatform/SoftTool/download?path="+ v +"' target='_blank'>" + v.substring(v.lastIndexOf("\\")+1,v.length) + "</a></li>"
                                    });
                                    $("#filesUrl").html(html);
                                    $("#pics").html(pic);
                                }
                            })

                            $("#result_tab1").show();
                            $("#result_tab1").addClass("active")
                            $("#out_tab1").removeClass("active")
                            $("#ins_tab1").removeClass("active")
                            $("#result1").addClass("active").addClass("in")
                            $("#form1").removeClass("active");
                            $("#instruction1").removeClass("active");
                        }
                    }
                });
            }


        }


            function choosefile($para) {
                if(@session.get("userId").isEmpty){
                    swal({
                        title: "尚未登录",
                        text: "请先登录账号",
                        type: "warning",
                        confirmButtonText: "确认"
                    })
                }else {
                    $number = $para.attr("data-id");
                    $("#hideinput" + $number).click();
                }
            }


            //上传文件判断，大小和格式 限制! 问题：云端文件判断不了。（云端文件上传时已经经过限制，可以大于5M，本地限制大小是因上传速度问题)
            var maxsize = 5 * 1024 * 1024;//2M
            var errMsg = '建议使用云端文件，本地文件上传最大为5M！';

            function change(value, rowMax, colMax) {
                $("#filepath" + $number).val(value);
                var filepath = document.getElementById("hideinput" + $number);

                var file_size = 0;


                file_size = filepath.files[0].size;
                let name = filepath.files[0].name;
                let patt = /^[a-zA-Z0-9._]+$/;
                if (!patt.test(name)) {
                    alert("文件名只能由字母，数字，'_'和'.'组成");
                    $("#filepath" + $number).val('');
                    $("#hideinput" + $number).val('');
                }
                var size = file_size;
                if (size > maxsize) {
                    alert(errMsg);
                    $("#filepath" + $number).val('');
                    $("#hideinput" + $number).val('');
                }

            }




    </script>
}